<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Kaka Tea Stall â€“ Self Order</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{margin:0;font-family:Arial;background:#fff8f2;}
.header{background:#7b1e1e;color:white;text-align:center;padding:12px;}
.container{padding:10px;}
.item-card{background:white;border-radius:8px;box-shadow:0 2px 5px rgba(0,0,0,.12);
display:flex;align-items:center;padding:6px;margin-bottom:8px;}
.item-card img{width:55px;height:55px;border-radius:6px;}
.item-info{flex:1;font-size:14px;padding-left:8px;}
.qty button{background:#b33939;color:white;border:none;width:26px;height:26px;border-radius:4px;}
.cart-bar{position:fixed;bottom:0;left:0;right:0;background:#7b1e1e;color:white;text-align:center;padding:8px;}
.paybtn{background:#ffd32a;border:none;padding:8px 14px;border-radius:6px;font-weight:bold;}
.hidden{display:none;}
.card{background:white;padding:15px;margin:10px;border-radius:10px;box-shadow:0 2px 6px rgba(0,0,0,.15);text-align:center;}
</style>
</head>
<body>

<div class="header">
<h2>â˜• Kaka Tea Stall</h2>
<small>Open: 4:30 AM â€“ Close: 11:00 PM</small>
</div>

<div class="container">

<div id="shop">
<h3>Select Items</h3>
<div id="items"></div>
</div>

<div id="bill" class="hidden">
<div class="card">
<h2>Kaka Tea Stall Bill</h2>
<p>Bill No: <b id="billNo"></b></p>
<div id="billItems"></div>
<h3>Total: â‚¹ <span id="billTotal"></span></h3>

<h4>Scan QR To Pay</h4>
<img id="qr" width="200">

<br><br>
<button class="paybtn" onclick="shareWhatsApp()">ðŸ“¤ Share Bill on WhatsApp</button>

<br><br>
<a href="https://forms.gle/ntDaekagEsrvXo7H7" target="_blank">
<button class="paybtn">ðŸ“¤ Upload Screenshot</button>
</a>

<br><br>
<button class="paybtn" onclick="location.reload()">â¬… New Order</button>
</div>
</div>

</div>

<div class="cart-bar" id="cartBar">
Total: â‚¹ <span id="total">0</span>
<button class="paybtn" onclick="generateBill()">Generate Bill</button>
</div>

<script>
let items=[
{name:"Regular Chai",price:20,img:"https://i.imgur.com/5KX8yWQ.jpg"},
{name:"Masala Chai",price:25,img:"https://i.imgur.com/7yUvePI.jpg"},
{name:"Ginger Chai",price:25,img:"https://i.imgur.com/1JQJg9S.jpg"},
{name:"Cutting Chai",price:15,img:"https://i.imgur.com/Fk7V4ks.jpg"},
{name:"Full Thali",price:60,img:"https://i.imgur.com/Y6XbQK9.jpg"},
{name:"Sabji",price:20,img:"https://i.imgur.com/QN0yM2C.jpg"},
{name:"Dal",price:20,img:"https://i.imgur.com/6M9Kj5M.jpg"},
{name:"Chawal",price:20,img:"https://i.imgur.com/Hp4w7qJ.jpg"},
{name:"Roti (Meal)",price:5,img:"https://i.imgur.com/lhG7RjF.jpg"},
{name:"Roti Only",price:6,img:"https://i.imgur.com/lhG7RjF.jpg"}
];

let cart=new Array(items.length).fill(0);

function loadItems(){
let html="";
items.forEach((it,i)=>{
html+=`
<div class="item-card">
<img src="${it.img}">
<div class="item-info"><b>${it.name}</b><br>â‚¹${it.price}</div>
<div class="qty">
<button onclick="chg(${i},-1)">âˆ’</button>
<span id="q${i}">${cart[i]}</span>
<button onclick="chg(${i},1)">+</button>
</div>
</div>`;
});
document.getElementById("items").innerHTML=html;
}
loadItems();

function chg(i,v){
cart[i]+=v; if(cart[i]<0)cart[i]=0;
document.getElementById("q"+i).innerText=cart[i];
updateTotal();
}

function updateTotal(){
let t=0;
cart.forEach((c,i)=>{t+=c*items[i].price});
document.getElementById("total").innerText=t;
}

function generateBill(){
let t=document.getElementById("total").innerText;
if(t==0){alert("Select items first");return;}
let bill="KAKA"+Date.now();
document.getElementById("billNo").innerText=bill;
document.getElementById("billTotal").innerText=t;

let list="";
cart.forEach((c,i)=>{
if(c>0) list+=`${items[i].name} Ã— ${c} = â‚¹${c*items[i].price}<br>`;
});
document.getElementById("billItems").innerHTML=list;

let upi="upi://pay?pa=paytmqr6z5isw@ptys&pn=KakaTeaStall&am="+t+"&cu=INR&tn=Bill-"+bill;
document.getElementById("qr").src=
"https://api.qrserver.com/v1/create-qr-code/?size=200x200&data="+encodeURIComponent(upi);

document.getElementById("shop").classList.add("hidden");
document.getElementById("cartBar").classList.add("hidden");
document.getElementById("bill").classList.remove("hidden");
}

function shareWhatsApp(){
let bill=document.getElementById("billNo").innerText;
let total=document.getElementById("billTotal").innerText;

let payPage="https://djjeenal.github.io/Maheshpadhiyar/pay.html?bill="+bill+"&amt="+total;

let msg=
"ðŸ§¾ *Kaka Tea Stall*\n\n"+
"Bill No: "+bill+"\n"+
"Total Amount: â‚¹"+total+"\n\n"+
"ðŸ‘‰ Pay Now Link:\n"+payPage+"\n\n"+
"ðŸ“¤ Screenshot Upload:\nhttps://forms.gle/ntDaekagEsrvXo7H7\n\n"+
"Payment ke baad screenshot upload karna anivarya hai.";

window.open("https://wa.me/?text="+encodeURIComponent(msg));
}
</script>

</body>
</html>